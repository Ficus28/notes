{% extends 'base.html' %}
{% load static %}

{% block title %}–ù–æ–≤–∞—è –∑–∞–º–µ—Ç–∫–∞{% endblock %}

{% block extra_head %}
    {{ form.media }}
    <link rel="stylesheet" href="{% static 'css/ckeditor_custom.css' %}">
    <script>
        window.CKEDITOR_CSRF_TOKEN = (function () {
            const name = 'csrftoken';
            const cookies = document.cookie.split(';');
            for (let cookie of cookies) {
                cookie = cookie.trim();
                if (cookie.startsWith(name + '=')) {
                    return decodeURIComponent(cookie.substring(name.length + 1));
                }
            }
            return '';
        })();
    </script>
{% endblock %}

{% block content %}
<div class="container mt-4">
  <div class="card shadow rounded-4">
    <div class="card-body">
      <h2 class="card-title mb-4">üìù –î–æ–±–∞–≤–∏—Ç—å –∑–∞–º–µ—Ç–∫—É</h2>

      <form method="post">
        {% csrf_token %}

        <div class="mb-3">
          <label for="id_title" class="form-label">–ó–∞–≥–æ–ª–æ–≤–æ–∫</label>
          {{ form.title }}
          {% for error in form.title.errors %}
            <div class="text-danger small mt-1">{{ error }}</div>
          {% endfor %}
        </div>

        <div class="mb-3">
          <label for="id_content" class="form-label">–°–æ–¥–µ—Ä–∂–∏–º–æ–µ</label>
          {{ form.content }}
          {% for error in form.content.errors %}
            <div class="text-danger small mt-1">{{ error }}</div>
          {% endfor %}
        </div>

        <button type="submit" class="btn btn-success">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
        <a href="{% url 'home' %}" class="btn btn-secondary">‚Ü©Ô∏è –ù–∞–∑–∞–¥</a>
      </form>
    </div>
  </div>
</div>
{% endblock %}
